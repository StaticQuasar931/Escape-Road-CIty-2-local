<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />

    <title>Escape Road City 2 â€“ StaticQuasar931</title>
    <meta name="description" content="Escape Road City 2 unblocked driving game on StaticQuasar931." />

    <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/StaticQuasar931/Images@main/icon.png" />

    <!-- BLOCK ALL EXTERNAL GMSoft SDK LOADS -->
    <script>
        window.GmSoftInclude = function(path){
            console.warn("Blocked external GMSoft SDK:", path);
        };

        // Block Unity from loading external tracking API
        window.fetch = new Proxy(window.fetch, {
            apply(target, thisArg, args) {
                if (typeof args[0] === "string" && args[0].includes("event.azgame.io")) {
                    console.warn("Blocked AzGames analytics:", args[0]);
                    return Promise.resolve(new Response("{}"));
                }
                return Reflect.apply(target, thisArg, args);
            }
        });
    </script>

    <!-- LOAD LOCAL SDK BEFORE UNITY -->
    <script src="gmsoftsdk_v5.js"></script>

    <!-- BASIC CSS -->
    <style>
        html,body{margin:0;height:100%;background:#000;}
        #unity-container{width:100%;height:100%;display:none;}
        #unity-canvas{width:100%;height:100%;background:#000;}
    </style>

    <!-- UNITY BUILD CONFIG -->
    <script>
        var buildUrl="Build";
        var loaderUrl=buildUrl + "/escape-road-city-2-v25030706.loader.js";
        var config={
            dataUrl:buildUrl + "/escape-road-city-2-v25030706.data.unityweb",
            frameworkUrl:buildUrl + "/escape-road-city-2-v25030706.framework.js.unityweb",
            codeUrl:buildUrl + "/escape-road-city-2-v25030706.wasm.unityweb",
            streamingAssetsUrl:"StreamingAssets",
            companyName:"StaticQuasar931",
            productName:"Escape Road City 2",
            productVersion:"25030706",
            gameId:"escape-road-city-2",
            eventLog:false,          /* disabled so Unity won't try azgame.io */
            buildAPI:"",             /* disable tracking */
            enableMoreGame:"no",
            enablePromotion:false
        };
    </script>
</head>

<body>
    <!-- Unity Container -->
    <div id="unity-container">
        <canvas id="unity-canvas"></canvas>
    </div>

    <!-- Loading Screen -->
    <div id="loadingBlock" style="color:white;text-align:center;padding-top:40px;">
        Loading Escape Road City 2...
        <div id="progress_fill" style="width:0;height:8px;background:#5ee1ff;margin:20px auto 0;max-width:300px;"></div>
    </div>

    <!-- UNITY LOADER -->
    <script>
        var canvas=document.getElementById("unity-canvas");
        var progress=document.getElementById("progress_fill");
        var load=document.getElementById("loadingBlock");
        var container=document.getElementById("unity-container");

        var s=document.createElement("script");
        s.src=loaderUrl;
        s.onload=()=>{
            createUnityInstance(canvas,config,(p)=>{
                progress.style.width=(p*100)+"%";
            }).then((unity)=>{
                window.unityInstance=unity;
                setTimeout(()=>{ load.style.display="none"; container.style.display="block"; },800);
            }).catch(alert);
        };
        document.body.appendChild(s);
    </script>
</body>
</html>
